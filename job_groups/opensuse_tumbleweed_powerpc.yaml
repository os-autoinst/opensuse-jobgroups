############################################################
#                         WARNING                          #
#                                                          #
#               This file is managed in GIT!               #
#  Any changes via the openQA WebUI will get overwritten!  #
#                                                          #
#    https://github.com/os-autoinst/opensuse-jobgroups     #
#       job_groups/opensuse_tumbleweed_powerpc.yaml        #
############################################################
---
defaults:
  ppc64le:
    machine: ppc64le
    priority: 50
products:
  opensuse-Tumbleweed-DVD-ppc64le:
    distri: opensuse
    flavor: DVD
    version: Tumbleweed
  opensuse-Tumbleweed-NET-ppc64le:
    distri: opensuse
    flavor: NET
    version: Tumbleweed
  microos-*-DVD-ppc64le:
    distri: microos
    flavor: DVD
    version: '*'
  microos-Tumbleweed-MicroOS-Image-ppc64le:
    distri: microos
    flavor: MicroOS-Image
    version: Tumbleweed
scenarios:
  ppc64le:
    opensuse-Tumbleweed-DVD-ppc64le:
      - textmode
      - gnome
      - minimalx:
          machine: ppc64le
      - RAID0:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/raid/raid0_gpt.yaml
            YAML_TEST_DATA: test_data/yast/raid/raid0_prep_boot.yaml
      - RAID1:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/raid/raid1_gpt.yaml
            YAML_TEST_DATA: test_data/yast/raid/raid1_prep_boot.yaml
      - RAID5:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/raid/raid5_gpt.yaml
            YAML_TEST_DATA: test_data/yast/raid/raid5_prep_boot.yaml
      - RAID10:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/raid/raid10_gpt.yaml
            YAML_TEST_DATA: test_data/yast/raid/raid10_prep_boot.yaml
      - install_only
      - lvm
      - mediacheck
      - rescue_system
      - gpt
      - create_hdd_textmode
      - create_hdd_textmode_100G:
          testsuite: create_hdd_textmode
          settings:
            +HDDSIZEGB: '100'
            PUBLISH_HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%-100G@%MACHINE%.qcow2'
            PUBLISH_PFLASH_VARS: ''
      - create_hdd_gnome
      - create_hdd_gnome_libyui
      - create_hdd_kde
      - install_minimalx:
          machine: ppc64le-multipath
      - boot_to_snapshot
      - extra_tests_gnome
      - extra_tests_on_kde
      - extra_tests_textmode
      - container_host_docker:
          testsuite: extra_tests_textmode_containers
          settings:
            CONTAINER_RUNTIMES: 'docker'
      - container_host_podman:
          testsuite: extra_tests_textmode_containers
          settings:
            CONTAINER_RUNTIMES: 'podman'
      - container_host_aardvark_testsuite:
          description: |-
            Maintainer: qe-c@suse.de https://github.com/os-autoinst/os-autoinst-distri-opensuse/tree/master/tests/containers/bats
          testsuite: extra_tests_textmode_containers
          settings:
            BATS_PACKAGE: 'aardvark-dns'
            CONTAINER_RUNTIMES: 'podman'
            QEMURAM: '4096'
            QEMUCPUS: '2'
            RETRY: '1'
      - container_host_netavark_testsuite:
          description: |-
            Maintainer: qe-c@suse.de https://github.com/os-autoinst/os-autoinst-distri-opensuse/tree/master/tests/containers/bats
          testsuite: extra_tests_textmode_containers
          settings:
            BATS_PACKAGE: 'netavark'
            CONTAINER_RUNTIMES: 'podman'
            QEMURAM: '4096'
            QEMUCPUS: '2'
            RETRY: '1'
      - container_host_podman_testsuite:
          description: |-
            Maintainer: qe-c@suse.de https://github.com/os-autoinst/os-autoinst-distri-opensuse/tree/master/tests/containers/bats
          testsuite: extra_tests_textmode_containers
          settings:
            BATS_PACKAGE: 'podman'
            CONTAINER_RUNTIMES: 'podman'
            MAX_JOB_TIME: '12000'
            QEMURAM: '4096'
            QEMUCPUS: '2'
            RETRY: '1'
      - container_host_podman_testsuite_crun:
          description: |-
            Maintainer: qe-c@suse.de https://github.com/os-autoinst/os-autoinst-distri-opensuse/tree/master/tests/containers/bats
          testsuite: extra_tests_textmode_containers
          settings:
            BATS_PACKAGE: 'podman'
            CONTAINER_RUNTIMES: 'podman'
            MAX_JOB_TIME: '12000'
            OCI_RUNTIME: 'crun'
            QEMURAM: '4096'
            QEMUCPUS: '2'
            RETRY: '1'
      - container_host_runc_testsuite:
          description: |-
            Maintainer: qe-c@suse.de https://github.com/os-autoinst/os-autoinst-distri-opensuse/tree/master/tests/containers/bats
          testsuite: extra_tests_textmode_containers
          settings:
            BATS_PACKAGE: 'runc'
            CONTAINER_RUNTIMES: 'podman'
            QEMUCPUS: '2'
            QEMURAM: '4096'
            RETRY: '1'
      - container_host_skopeo_testsuite:
          description: |-
            Maintainer: qe-c@suse.de https://github.com/os-autoinst/os-autoinst-distri-opensuse/tree/master/tests/containers/bats
          testsuite: extra_tests_textmode_containers
          settings:
            BATS_PACKAGE: 'skopeo'
            CONTAINER_RUNTIMES: 'podman'
            QEMUCPUS: '2'
            QEMURAM: '4096'
            RETRY: '1'
      - extra_tests_filesystem
      - yast2_ncurses:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/yast2_ncurses/yast2_ncurses.yaml
      - toolchain_zypper
      - ext4_textmode:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/ext4/ext4_textmode.yaml
      - extra_tests_dracut
      - wicked_basic_sut
      - wicked_basic_ref
    opensuse-Tumbleweed-NET-ppc64le:
      - minimalx:
          machine: ppc64le
      - install_minimalx:
          machine: ppc64le
    microos-*-DVD-ppc64le:
      - rcshell
      - microos_10G-disk
    microos-Tumbleweed-MicroOS-Image-ppc64le:
      - microos:
          settings:
            HDD_2: 'ignition.qcow2'
            NUMDISKS: '2'
      - microos-wizard
