############################################################
#                         WARNING                          #
#                                                          #
#               This file is managed in GIT!               #
#  Any changes via the openQA WebUI will get overwritten!  #
#                                                          #
#    https://github.com/os-autoinst/opensuse-jobgroups     #
#           job_groups/opensuse_tumbleweed.yaml            #
############################################################

---

defaults:
  x86_64:
    machine: 64bit
    priority: 50
products:
  microos-*-DVD-x86_64:
    distri: microos
    flavor: DVD
    version: '*'
  opensuse-Tumbleweed-DVD-x86_64:
    distri: opensuse
    flavor: DVD
    version: Tumbleweed
  opensuse-Tumbleweed-GNOME-Live-x86_64:
    distri: opensuse
    flavor: GNOME-Live
    version: Tumbleweed
  opensuse-Tumbleweed-JeOS-for-kvm-and-xen-x86_64:
    distri: opensuse
    flavor: JeOS-for-kvm-and-xen
    version: Tumbleweed
  microos-*-MicroOS-Image-ContainerHost-x86_64:
    distri: microos
    flavor: MicroOS-Image-ContainerHost
    version: Tumbleweed
  microos-*-MicroOS-Image-x86_64:
    distri: microos
    flavor: MicroOS-Image
    version: Tumbleweed
  microos-*-MicroOS-Image-k3s-x86_64:
    distri: microos
    flavor: MicroOS-Image-k3s
    version: Tumbleweed
  opensuse-Tumbleweed-KDE-Live-x86_64:
    distri: opensuse
    flavor: KDE-Live
    version: Tumbleweed
  opensuse-Tumbleweed-NET-x86_64:
    distri: opensuse
    flavor: NET
    version: Tumbleweed
  opensuse-Tumbleweed-Rescue-CD-x86_64:
    distri: opensuse
    flavor: Rescue-CD
    version: Tumbleweed
  opensuse-Tumbleweed-XFCE-Live-x86_64:
    distri: opensuse
    flavor: XFCE-Live
    version: Tumbleweed
  opensuse-Tumbleweed-WSL-x86_64:
    distri: opensuse
    flavor: WSL
    version: Tumbleweed
scenarios:
  x86_64:
    microos-*-DVD-x86_64:
      - rcshell:
          machine: 64bit
      - microos_10G-disk
      - microos:
          machine: uefi
      - microos:
          machine: 64bit
      - microos_textmode
      - container-host:
          machine: 64bit
          settings:
            CONTAINER_IMAGE_TO_TEST: registry.opensuse.org/opensuse/factory/totest/containers/opensuse/tumbleweed
      - remote_ssh_controller:
          settings:
            HDD_1: support_server_tumbleweed@64bit.qcow2
            SYSTEM_ROLE: microos
            DESKTOP: textmode
            EXTRABOOTPARAMS_BOOT_LOCAL: '3'
            +YAML_SCHEDULE: ''
      - remote_ssh_target:
          settings:
            DESKTOP: textmode
            +YAML_SCHEDULE: ''
    microos-*-MicroOS-Image-ContainerHost-x86_64:
      - container-host:
          settings:
            CONTAINER_IMAGE_TO_TEST: registry.opensuse.org/opensuse/factory/totest/containers/opensuse/tumbleweed
      - container-host2microosnext:
          settings:
            CONTAINER_IMAGE_TO_TEST: registry.opensuse.org/opensuse/factory/totest/containers/opensuse/tumbleweed
      - container-host-old2microosnext:
          settings:
            CONTAINER_IMAGE_TO_TEST: registry.opensuse.org/opensuse/factory/totest/containers/opensuse/tumbleweed
    microos-*-MicroOS-Image-x86_64:
      - microos:
          settings:
            # SELinux is enabled by default, but this allows running some checks
            ENABLE_SELINUX: '1'
      - microos-combustion
      - microos-ignition
      - microos-wizard
      - microos2microosnext
      - microos-old2microosnext
      - microos_qemu:
          settings:
            QEMUCPU: 'host'
      - microos_fips
    opensuse-Tumbleweed-DVD-x86_64:
      - textmode:
          machine: 64bit
          priority: 40
      - kde:
          machine: USBboot_64
          priority: 40
      - kde:
          machine: 64bit
          priority: 40
      - kde:
          machine: 64bit_cirrus-2G
          priority: 40
      - kde:
          machine: Laptop_64
          priority: 40
      - uefi:
          machine: 64bit
          priority: 45
      - uefi:
          machine: USBboot_64
          priority: 45
      - gnome:
          machine: 64bit_qxl
          priority: 45
      - gnome:
          machine: Laptop_64
          priority: 45
      - gnome:
          machine: 64bit
          priority: 45
      - gnome:
          machine: 64bit_cirrus
          priority: 45
      - minimalx:
          machine: 64bit
          priority: 45
      - gnome-boot-hdd
      - minimalx+btrfs+sephome
      # - lxde:
      #     machine: 64bit
      #     priority: 49
      - xfce:
          machine: 64bit
          priority: 49
      - cryptlvm:
          machine: uefi
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/encryption/cryptlvm.yaml
      - cryptlvm:
          machine: 64bit
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/encryption/cryptlvm.yaml
      - install_only:
          machine: smp_64
          priority: 40
      - install_only:
          machine: 64bit-multipath
          priority: 40
      - guided_ext4:
          settings:
            DESKTOP: gnome
            FILESYSTEM: ext4
            NOAUTOLOGIN: '1'
            YAML_SCHEDULE_DEFAULT: schedule/yast/tumbleweed/flows/default.yaml
            YAML_SCHEDULE_FLOWS: gnome,guided,autologin_off
            YAML_SCHEDULE: schedule/yast/tumbleweed/guided_ext4.yaml
          testsuite: null
      - guided_ext4_textmode:
          description: |-
            Mantainer: jeriveramoya Test selection of file system ext4 for / partition in textmode for openSUSE distributions
          settings:
            DESKTOP: textmode
            FILESYSTEM: ext4
            VIDEOMODE: text
            YAML_SCHEDULE_DEFAULT: schedule/yast/tumbleweed/flows/default.yaml
            YAML_SCHEDULE_FLOWS: server,guided
            YAML_SCHEDULE: schedule/yast/tumbleweed/guided_ext4.yaml
          testsuite: null
      - lvm:
          priority: 49
      - uefi-os:
          machine: 64bit
          priority: 45
      - mediacheck:
          machine: 64bit
      - rescue_system:
          priority: 40
      - gpt
      - xfs:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/xfs/xfs.yaml
            YAML_TEST_DATA: test_data/yast/opensuse/xfs/xfs_partition.yaml
      - minimalx_btrfs_snapper
      - create_hdd_textmode:
          priority: 45
      - create_hdd_textmode_autoyast:
          priority: 45
      - create_hdd_gnome:
          priority: 45
      - create_hdd_gnome_libyui
      - create_hdd_gnome_wicked
      - create_hdd_kde:
          priority: 45
      - lvm+RAID1
      - boot_to_snapshot
      - yast2_firstboot
      - yast2_firstboot_custom
      - yast2_gui
      - yast2_nfs_v3_server
      - yast2_nfs_v3_client
      - yast2_nfs_v4_server
      - yast2_nfs_v4_client
      - yast2_ui_devel
      - yast2_users
      - yast2_apparmor
      - extra_tests_gnome
      - create_hdd_xfce:
          priority: 46
      - extra_tests_on_kde
      - extra_tests_on_xfce
      - extra_tests_textmode
      - extra_tests_webserver
      - create_hdd_transactional_server
      - extra_tests_transactional_server
      - extra_tests_vagrant:
          description: 'Maintainer: dancermak. Test vagrant, vagrant plugins and the vagrant boxes'
          settings:
            BOOT_HDD_IMAGE: '1'
            DESKTOP: textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            QEMUCPU: host
            QEMUCPUS: '4'
            QEMURAM: '4096'
            START_AFTER_TEST: create_hdd_textmode
            UEFI_PFLASH_VARS: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%-uefi-vars.qcow2'
            YAML_SCHEDULE: schedule/vagrant.yaml
          testsuite: null
      - containers_host_docker:
          testsuite: extra_tests_textmode_containers
          settings:
            CONTAINER_RUNTIME: 'docker'
      - containers_host_podman:
          testsuite: extra_tests_textmode_containers
          settings:
            CONTAINER_RUNTIME: 'podman'
      - containers_host_containerd:
          testsuite: extra_tests_textmode_containers
          settings:
            CONTAINER_RUNTIME: 'containerd_crictl,containerd_nerdctl'
      - containers_host_helm:
          testsuite: extra_tests_textmode_containers
          settings:
            CONTAINER_RUNTIME: 'helm'
      - containers_host_kubectl:
          testsuite: extra_tests_textmode_containers
          settings:
            CONTAINER_RUNTIME: 'kubectl'
      - containers_hpc_apptainer:
          testsuite: extra_tests_textmode_containers
          settings:
            CONTAINER_RUNTIME: 'apptainer'
      - containers_image:
          testsuite: extra_tests_textmode_containers
          settings:
            CONTAINER_RUNTIME: 'docker,podman'
            CONTAINERS_UNTESTED_IMAGES: '1'
            CONTAINER_IMAGE_TO_TEST: registry.opensuse.org/opensuse/factory/totest/containers/opensuse/tumbleweed
            # Temporarily disabled due to db instance being down
            IMAGE_STORE_DATA: '0'
            POSTGRES_IP: '18.196.183.86'
      - extra_tests_ai_ml
      - yast_no_self_update
      - gnome-gdm:
          machine: 64bit
      - kde_dual_windows10:
          machine: uefi_win
      - kde_dual_windows10:
          machine: 64bit_win
      - gnome_dual_windows10:
          machine: uefi_win
      - gnome_dual_windows10:
          machine: 64bit_win
      - kde-sddm
      - gnome+import_ssh_keys:
          machine: 64bit_cirrus
          settings:
            HDD_1: opensuse-leap-updated-%ARCH%-%DESKTOP%.qcow2
      - gnome+do_not_import_ssh_keys:
          machine: 64bit_cirrus-2G
          settings:
            HDD_1: opensuse-leap-updated-%ARCH%-%DESKTOP%.qcow2
      - autoyast_y2_firstboot
      - autoyast_btrfs_quota
      - autoyast_gnome:
          machine: 64bit
      - autoyast_minimal
      - autoyast_reinstall_gnome:
          settings:
            YAML_TEST_DATA: test_data/yast/opensuse/autoyast_reinstall/autoyast_reinstall_64bit.yaml
      - autoyast_multi_btrfs:
          settings:
            AUTOYAST: autoyast_opensuse/autoyast_multi_btrfs.xml
            DESKTOP: gnome
            NUMDISKS: '4'
            YAML_SCHEDULE: schedule/yast/opensuse/autoyast/autoyast_multi_btrfs.yaml
          description: AutoYaST installation with multi-device Btrfs. The setup containing 4 hds using two
            multidevice btrfs, one mounted on / and one mounted on /test. Combines partition-less
            disk and disk with partition, also includes an encrypted disk.
          testsuite: null
          machine: 64bit
      - autoyast_rules_and_classes:
          description: Test verifies rules and classes autoyast.
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/autoyast/autoyast_rules_and_classes.yaml
          testsuite: null
      - guided_btrfs:
          description: |-
            https://progress.opensuse.org/issues/16570
            PARTITIONING_WARNINGS=1

            Test installation with btrfs filesystem. Validates no_COW attributes on subvolumes, checks the /home is not on the separate partition.
          settings:
            HDDSIZEGB: '40'
            YAML_SCHEDULE_DEFAULT: schedule/yast/tumbleweed/flows/default.yaml
            YAML_SCHEDULE_FLOWS: kde,guided
            YAML_SCHEDULE: schedule/yast/tumbleweed/guided_btrfs.yaml
          testsuite: null
      - guided_btrfs_textmode:
          description: 'Mantainer: jeriveramoya Test selection of file system btrfs for / partition in textmode for openSUSE distributions'
          settings:
            DESKTOP: textmode
            FILESYSTEM: btrfs
            VIDEOMODE: text
            YAML_SCHEDULE_DEFAULT: schedule/yast/tumbleweed/flows/default.yaml
            YAML_SCHEDULE_FLOWS: server,guided
            YAML_SCHEDULE: schedule/yast/tumbleweed/guided_btrfs.yaml
          testsuite: null
      - package-dependency
      - nvme:
          machine: uefi
      - extra_tests_filesystem
      - gnuhealth
      - clone_system
      - wicked_basic_sut
      - wicked_basic_ref
      - wireguard_server
      - wireguard_client
      - ovs-server
      - ovs-client
      - salt-master
      - salt-minion
      - autofs_server
      - autofs_client
      - rsync-server
      - rsync-client
      - extra_tests_misc
      - tomcat
      - desktopapps-message-gnome
      - kde-wayland:
          machine: 64bit_virtio
          settings:
            QEMUCPUS: '2'
            QEMURAM: '2048'
      - external_iso:
          machine: 64bit
      - desktopapps-gnome
      - yast2_ncurses:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/yast2_ncurses/yast2_ncurses.yaml
      - virtualization:
          settings:
            YAML_SCHEDULE: schedule/virtualization/virtualization.yaml
      - toolchain_zypper
      - crypt_no_lvm
      - systemd-networkd
      - transactional_server:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/transactional_server/transactional_server.yaml
      - install_offline
      - system_performance
      - select_disk:
          description: 'Maintainer: riafarov, mloviska Test the selection of "first" disk with the guided
            setup in partitioning. This is also used as a prerequisite for real hardware tests
            to select the right disk for installation and not a "random" one.'
          settings:
            NUMDISKS: '2'
            YAML_SCHEDULE: schedule/yast/opensuse/select_disk/select_disk.yaml
          testsuite: null
      - ext3_textmode:
          description: 'Mantainer: jeriveramoya Test selection of file system ext3 for / partition in textmode for openSUSE distributions'
          settings:
            DESKTOP: textmode
            FILESYSTEM: ext3
            INSTALLONLY: '1'
            VIDEOMODE: text
            YAML_SCHEDULE: schedule/yast/opensuse/ext3/ext3_textmode.yaml
          testsuite: null
      - xfs_textmode:
          description: 'Mantainer: jeriveramoya Test selection of file system xfs for / partition in textmode for openSUSE distributions'
          settings:
            DESKTOP: textmode
            FILESYSTEM: xfs
            INSTALLONLY: '1'
            VIDEOMODE: text
            YAML_SCHEDULE: schedule/yast/opensuse/xfs/xfs_textmode.yaml
            YAML_TEST_DATA: test_data/yast/opensuse/xfs/xfs_partition.yaml
          testsuite: null
      - apparmor
      - scap_workbench
      - libserf
      - ecryptfs
      - lvm-encrypt-separate-boot:
          machine: 64bit
      - lvm-full-encrypt
      - openscap
      - lvm_thin_provisioning:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/lvm/lvm_thin_provisioning.yaml
      - upgrade_Leap_15.0_gnome:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.0_cryptlvm:
          machine: uefi
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.0_kde:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.1_kde:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.2_gnome:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.2_with_service_check:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.2_with_service_check_nested_vm_down:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.2_kde:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.2_cryptlvm:
          machine: uefi
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.3_gnome:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.3_kde:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - installer_extended
      - desktopapps-other:
          description: 'Maintainer: Yuan Ren (yuanren10). See https://progress.opensuse.org/issues/23906'
          settings:
            BOOT_HDD_IMAGE: '1'
            DESKTOP: gnome
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            REGRESSION: other
            START_AFTER_TEST: create_hdd_gnome
            UEFI_PFLASH_VARS: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%-uefi-vars.qcow2'
          testsuite: null
      - desktopapps-documentation:
          description: Maintainer Yaun Ren
          settings:
            DESKTOP: gnome
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            REGRESSION: documentation
            START_AFTER_TEST: create_hdd_gnome
            UEFI_PFLASH_VARS: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%-uefi-vars.qcow2'
          testsuite: null
      - desktopapps-gb18030
      - usbguard:
          settings:
            YAML_SCHEDULE: schedule/security/usbguard.yaml
      - security_check_kernel_config
      - security_audit:
          settings:
            YAML_SCHEDULE: schedule/security/audit.yaml
      - security_build_nested_hdd:
          testsuite: null
          settings:
            BOOT_HDD_IMAGE: '1'
            START_AFTER_TEST: create_hdd_textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            DESKTOP: textmode
            YAML_SCHEDULE: schedule/security/build_nested_hdd.yaml
            PUBLISH_HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%_nested_l2.qcow2'
      - security_pam
      - security_tpm2:
          settings:
            YAML_SCHEDULE: schedule/security/tpm2.yaml
      - security_tpm2_swtpm:
          testsuite: null
          settings:
            BOOT_HDD_IMAGE: '1'
            START_AFTER_TEST: create_hdd_textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            YAML_SCHEDULE: schedule/security/tpm2.yaml
            QEMUTPM: 'instance'
            QEMUTPM_VER: '2.0'
            DESKTOP: textmode
      - security_tpm2_swtpm_uefi:
          testsuite: null
          machine: uefi
          settings:
            START_AFTER_TEST: create_hdd_textmode_uefi
            BOOT_HDD_IMAGE: '1'
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            UEFI_PFLASH_CODE: '/usr/share/qemu/ovmf-x86_64-ms-code.bin'
            UEFI_PFLASH_VARS: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%-uefi-vars.qcow2'
            YAML_SCHEDULE: schedule/security/tpm2.yaml
            QEMUTPM: 'instance'
            QEMUTPM_VER: '2.0'
            DESKTOP: textmode
      - security_tpm2_keylime:
          testsuite: null
          settings:
            BOOT_HDD_IMAGE: '1'
            START_AFTER_TEST: create_hdd_textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            YAML_SCHEDULE: schedule/security/keylime.yaml
            QEMUTPM: 'instance'
            QEMUTPM_VER: '2.0'
            DESKTOP: textmode
      - security_tpm2_keylime_uefi:
          machine: uefi
          testsuite: null
          settings:
            BOOT_HDD_IMAGE: '1'
            START_AFTER_TEST: create_hdd_textmode_uefi
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            UEFI_PFLASH_CODE: '/usr/share/qemu/ovmf-x86_64-ms-code.bin'
            UEFI_PFLASH_VARS: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%-uefi-vars.qcow2'
            YAML_SCHEDULE: schedule/security/keylime.yaml
            QEMUTPM: 'instance'
            QEMUTPM_VER: '2.0'
            DESKTOP: textmode
      - unlock_luks2_volume_with_tpm2:
          testsuite: null
          settings:
            DESKTOP: gnome
            HDDSIZEGB: '30'
            ENCRYPT: '1'
            LUKS2_ENCRYPT: '1'
            YAML_SCHEDULE: schedule/security/autoyast_btrfs_luks2_tw.yaml
            QEMURAM: '4096'
            QEMUTPM: 'instance'
            QEMUTPM_VER: '2.0'
      - security_tpm_tools:
          testsuite: null
          settings:
            BOOT_HDD_IMAGE: '1'
            START_AFTER_TEST: create_hdd_textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            YAML_SCHEDULE: schedule/security/tpm_selftest.yaml
            QEMUTPM: 'instance'
            QEMUTPM_VER: '1.2'
            DESKTOP: textmode
      - secureboot_kernel_lockdown:
          testsuite: null
          machine: uefi
          settings:
            START_AFTER_TEST: create_hdd_textmode_uefi
            BOOT_HDD_IMAGE: '1'
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            UEFI_PFLASH_CODE: '/usr/share/qemu/ovmf-x86_64-ms-code.bin'
            UEFI_PFLASH_VARS: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%-uefi-vars.qcow2'
            YAML_SCHEDULE: schedule/security/secureboot_kernel_lockdown.yaml
            DESKTOP: textmode
      - system_check
      - btrfs+warnings:
          settings:
            YAML_SCHEDULE: schedule/yast/opensuse/btrfs/btrfs+warnings.yaml
      - selinux:
          description: Maintainer (Lily Zhao) llzhao@suse.com
          settings:
            ARCH: x86_64
            BOOT_HDD_IMAGE: '1'
            DESKTOP: textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            MACHINE: 64bit
            SECURITY_TEST: selinux
            START_AFTER_TEST: create_hdd_textmode
            UEFI_PFLASH_VARS: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%-uefi-vars.qcow2'
            VIDEOMODE: text
            YAML_SCHEDULE: schedule/security/selinux.yaml
          testsuite: null
      - create_hdd_gnome-x11:
          priority: 46
      - create_hdd_gnome-wayland:
          machine: 64bit_virtio
          priority: 45
      - sway:
          testsuite: null
          settings:
            BOOT_HDD_IMAGE: "1"
            VIDEOMODE: text
            DESKTOP: textmode
            QEMU_VIDEO_DEVICE: virtio-vga
            HDD_1: "%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2"
            UEFI_PFLASH_VARS: "%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%-uefi-vars.qcow2"
            START_AFTER_TEST: create_hdd_textmode
            YAML_SCHEDULE: schedule/functional/sway.yaml
      - desktopapps-other-x11
      - desktopapps-documentation-x11
      - desktopapps-gnome-x11
      - desktopapps-remote-desktop-xrdp-client1:
          settings:
            BOOT_HDD_IMAGE: '1'
            DESKTOP: gnome
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-gnome-wayland@%MACHINE%.qcow2'
            NETWORKS: fixed
            NICTYPE: tap
            PARALLEL_WITH: desktopapps-remote-desktop-xrdp-server1
            REGRESSION: remote
            REMOTE_DESKTOP_TYPE: xrdp_client
            START_AFTER_TEST: create_hdd_gnome-wayland
            VIRTIO_CONSOLE: '0'
            WORKER_CLASS: tap
          description: ''
          testsuite: null
          machine: 64bit_virtio
      - desktopapps-remote-desktop-xrdp-server1:
          settings:
            BOOTFROM: c
            HDD_1: windows-10-x86_64-21H2@64bit_win.qcow2
            WIN_VERSION: '10'
            NETWORKS: fixed
            NICTYPE: tap
            NLA: '1'
            QEMUMACHINE: 'q35'
            REGRESSION: remote
            REMOTE_DESKTOP_TYPE: win_server
            WORKER_CLASS: tap
          description: ''
          testsuite: null
          machine: 64bit_virtio
      - desktopapps-remote-desktop-xrdp-client2:
          settings:
            BOOT_HDD_IMAGE: '1'
            DESKTOP: gnome
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-gnome-wayland@%MACHINE%.qcow2'
            NETWORKS: fixed
            NICTYPE: tap
            PARALLEL_WITH: desktopapps-remote-desktop-xrdp-server2
            REGRESSION: remote
            REMOTE_DESKTOP_TYPE: xrdp_client
            START_AFTER_TEST: create_hdd_gnome-wayland
            VIRTIO_CONSOLE: '0'
            WORKER_CLASS: tap
          description: ''
          testsuite: null
          machine: 64bit_virtio
      - desktopapps-remote-desktop-xrdp-server2:
          settings:
            BOOTFROM: c
            HDD_1: windows-10-x86_64-21H2@64bit_win.qcow2
            WIN_VERSION: '10'
            NETWORKS: fixed
            NICTYPE: tap
            NLA: '0'
            QEMUMACHINE: 'q35'
            REGRESSION: remote
            REMOTE_DESKTOP_TYPE: win_server
            WORKER_CLASS: tap
          description: ''
          testsuite: null
          machine: 64bit_virtio
      - remote_ssh_controller:
          settings:
            HDD_1: support_server_tumbleweed@64bit.qcow2
      - remote_ssh_target
      - remote-desktop-client4:
          description: ''
          settings:
            BOOTFROM: c
            DESKTOP: gnome
            HDD_1: windows-10-x86_64-21H2@64bit_win.qcow2
            WIN_VERSION: '10'
            NETWORKS: fixed
            NICTYPE: tap
            QEMUMACHINE: 'q35'
            PARALLEL_WITH: remote-desktop-supportserver4
            REGRESSION: remote
            REMOTE_DESKTOP_TYPE: win_client
            WORKER_CLASS: tap
          testsuite: null
      - remote-desktop-supportserver4:
          description: ''
          settings:
            BOOTFROM: c
            DESKTOP: gnome
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-gnome-x11@%MACHINE%.qcow2'
            NETWORKS: fixed
            NICTYPE: tap
            REGRESSION: remote
            REMOTE_DESKTOP_TYPE: xrdp_server
            SHUTDOWN_NEEDS_AUTH: '1'
            START_AFTER_TEST: create_hdd_gnome-x11
            SUPPORT_SERVER: '1'
            SUPPORT_SERVER_ROLES: dhcp
            VIRTIO_CONSOLE: '0'
            WORKER_CLASS: tap
          testsuite: null
      - toolkits
      - gnome-x11-ibus
      - toolkits-kde
      - openldap_to_389ds
      - apparmor_profile
      - create_swtpm_hdd
      - create_hdd_textmode_uefi:
          machine: uefi
      - create_swtpm_hdd_uefi:
          machine: uefi
      - security_swtpm
      - security_swtpm_uefi
      - security_389ds_server:
          description: 'Maintainer: rfan1'
          testsuite: null
          settings:
            BOOT_HDD_IMAGE: '1'
            START_AFTER_TEST: create_hdd_textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            WORKER_CLASS: tap
            DESKTOP: textmode
            NICTYPE: tap
            VIDEOMODE: text
            HOSTNAME: 'server'
            SSS_USERNAME: 'wilber'
            YAML_SCHEDULE: schedule/security/389ds_sssd.yaml
      - security_389ds_sssd_client:
          description: 'Maintainer: rfan1'
          testsuite: null
          settings:
            BOOT_HDD_IMAGE: '1'
            START_AFTER_TEST: create_hdd_textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            WORKER_CLASS: tap
            DESKTOP: textmode
            NICTYPE: tap
            PARALLEL_WITH: security_389ds_server
            VIDEOMODE: text
            HOSTNAME: 'client'
            SSS_USERNAME: 'wilber'
            YAML_SCHEDULE: schedule/security/389ds_sssd.yaml
      - security_smartcard_update:
          testsuite: null
          settings:
            BOOT_HDD_IMAGE: '1'
            START_AFTER_TEST: create_hdd_textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            YAML_SCHEDULE: schedule/security/smartcard.yaml
            DESKTOP: textmode
      - security_grub_auth
      - openqa_bootstrap
      - openqa_bootstrap_nginx:
          testsuite: openqa_bootstrap
          settings:
            OPENQA_WEB_PROXY: 'nginx'
      - openqa_bootstrap_container
      - rootonly
      - qemu
      - upgrade_Leap_15.1_gnome:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_boot-into_snapshot_rollback_Leap_15.1_gnome:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - extra_tests_dracut
      - boot_linuxrc
      - RAID0_gpt
      - RAID1_gpt
      - RAID5_gpt:
          description: ''
          settings:
            DESKTOP: kde
            START_AFTER_TEST: RAID0_gpt
            WORKER_CLASS: heavyload
            YAML_SCHEDULE: schedule/yast/opensuse/raid/raid5_gpt.yaml
          testsuite: null
      - RAID10_gpt:
          description: ''
          settings:
            DESKTOP: kde
            START_AFTER_TEST: RAID1_gpt
            WORKER_CLASS: heavyload
            YAML_SCHEDULE: schedule/yast/opensuse/raid/raid10_gpt.yaml
          testsuite: null
      - modify_existing_partition:
          description: Suite that modifies/resizes a partition on a previsously formatted disk. Depends on create_hdd_gnome.
          settings:
            DESKTOP: textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-gnome@%MACHINE%.qcow2'
            START_AFTER_TEST: create_hdd_gnome
            YAML_SCHEDULE: schedule/yast/opensuse/modify_existing_partition.yaml
          testsuite: null
      - remote_vnc_controller:
          settings:
            BOOT_HDD_IMAGE: '1'
            DESKTOP: gnome
            HDD_1: support_server_tumbleweed@64bit.qcow2
            INSTALLONLY: '1'
            NICTYPE: tap
            OVS_DEBUG: '1'
            REMOTE_CONTROLLER: vnc
            SUPPORT_SERVER: '1'
            SUPPORT_SERVER_ROLES: dhcp,dns
            WORKER_CLASS: tap
            QEMURAM: '2048'
            YAML_SCHEDULE: schedule/yast/opensuse/remote_vnc/remote_vnc_controller.yaml
          description: Controller performs remote installation via vnc to the target
          testsuite: null
      - remote_vnc_target:
          settings:
            DESKTOP: gnome
            INSTALLONLY: '1'
            NICTYPE: tap
            OVS_DEBUG: '1'
            PARALLEL_WITH: remote_vnc_controller
            REMOTE_TARGET: vnc
            USE_SUPPORT_SERVER: '1'
            WORKER_CLASS: tap
            QEMURAM: '2048'
            YAML_SCHEDULE: schedule/yast/opensuse/remote_vnc/remote_vnc_target.yaml
          description: The target of the vnc remote installation triggered by the controller
          testsuite: null
      - yast_oneclick_install
      - firewalld-policy-firewall:
          machine: 64bit
          settings:
            START_AFTER_TEST: 'create_hdd_textmode'
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
      - firewalld-policy-server:
          machine: 64bit
          settings:
            START_AFTER_TEST: 'create_hdd_textmode'
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
      - firewalld-policy-client:
          machine: 64bit
          settings:
            START_AFTER_TEST: 'create_hdd_textmode'
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
      - create_hdd_gnome_encrypt_separate_boot:
          description: 'Maintainer: (Richard Fan) richard.fan@suse.com (Starry Wang) starry.wang@suse.com'
          testsuite: null
          settings:
            DESKTOP: gnome
            HDDSIZEGB: '20'
            ENCRYPT: '1'
            STORAGE_NG: '1'
            QEMURAM: '2048'
            YAML_SCHEDULE: schedule/security/autoyast_btrfs_luks1_separate_boot_tw.yaml
            PUBLISH_HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%_encrypt_separate_boot.qcow2'
      - luks1_decrypt_ssh_client:
          description: 'Maintainer: (Richard Fan) richard.fan@suse.com (Starry Wang) starry.wang@suse.com'
          testsuite: null
          settings:
            DESKTOP: textmode
            BOOT_HDD_IMAGE: '1'
            WORKER_CLASS: tap
            NICTYPE: tap
            HOSTNAME: 'client'
            PARALLEL_WITH: luks1_decrypt_ssh_server
            START_AFTER_TEST: create_hdd_textmode
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%.qcow2'
            YAML_SCHEDULE: schedule/security/luks1_decrypt_ssh_client.yaml
      - luks1_decrypt_ssh_server:
          description: 'Maintainer: (Richard Fan) richard.fan@suse.com (Starry Wang) starry.wang@suse.com'
          testsuite: null
          settings:
            DESKTOP: gnome
            BOOT_HDD_IMAGE: '1'
            ENCRYPT: '1'
            STORAGE_NG: '1'
            QEMURAM: '2048'
            WORKER_CLASS: tap
            NICTYPE: tap
            HOSTNAME: 'server'
            START_AFTER_TEST: create_hdd_gnome_encrypt_separate_boot
            HDD_1: '%DISTRI%-%VERSION%-%ARCH%-%BUILD%-%DESKTOP%@%MACHINE%_encrypt_separate_boot.qcow2'
            YAML_SCHEDULE: schedule/security/luks1_decrypt_ssh_server.yaml
      - autoyast_create_hdd_gnome_uefi:
          testsuite: create_hdd_desktop_ay_uefi
          machine: uefi
          settings:
            DESKTOP: gnome
            AUTOYAST: 'autoyast_opensuse/create_hdd/create_hdd_gnome_x86_64_uefi.xml'
      - autoyast_create_hdd_textmode_uefi:
          testsuite: create_hdd_desktop_ay_uefi
          machine: uefi
          settings:
            DESKTOP: textmode
            AUTOYAST: 'autoyast_opensuse/create_hdd/create_hdd_textmode_x86_64_uefi.xml'
      - sys-param-check
    opensuse-Tumbleweed-GNOME-Live-x86_64:
      - gnome-live:
          machine: uefi
          priority: 48
          settings:
            QEMURAM: '4096'
      - gnome-live:
          machine: 64bit-4G
          priority: 48
      - gnome-live:
          machine: USBboot_64-3G
          priority: 48
      - gnome-live:
          machine: uefi-usb-4G
          priority: 48
      - mediacheck:
          machine: 64bit
    opensuse-Tumbleweed-JeOS-for-kvm-and-xen-x86_64:
      - jeos:
          machine: 64bit_virtio
          priority: 48
          settings:
            #POSTGRES_IP: 'k2.qe.suse.de'
            POSTGRES_IP: '10.137.0.6'
            POSTGRES_PORT: '8080'
      - jeos:
          machine: uefi_virtio-2G
      - jeos-extra:
          machine: 64bit_virtio-2G
      - jeos-apparmor:
          machine: 64bit_virtio-2G
      - jeos-container_host:
          machine: 64bit_virtio-2G
      - jeos-container_image:
          machine: 64bit_virtio-2G
          settings:
            CONTAINER_IMAGE_TO_TEST: registry.opensuse.org/opensuse/factory/totest/containers/opensuse/tumbleweed
      - zdup_twjeos2twnext:
          machine: 64bit_virtio
      - jeos-filesystem:
          machine: 64bit_virtio
      - jeos-fips:
          machine: 64bit_virtio
      - jeos-ltp-commands:
          machine: uefi_virtio-2G
      - jeos-ltp-containers:
          machine: uefi_virtio-2G
      - jeos-ltp-cve:
          machine: uefi_virtio-2G
      - jeos-ltp-dio:
          machine: uefi_virtio-2G
      - jeos-ltp-ima:
          machine: uefi_virtio-2G
      - jeos-ltp-syscalls:
          machine: uefi_virtio-2G
      - jeos-ltp-syscalls-ipc:
          machine: uefi_virtio-2G
    opensuse-Tumbleweed-KDE-Live-x86_64:
      - kde-live:
          machine: uefi-3G
          priority: 48
      - kde-live:
          machine: uefi-usb-2G
          priority: 48
      - kde-live:
          machine: 64bit-3G
          priority: 48
      - kde-live:
          machine: USBboot_64-2G
          priority: 48
      - mediacheck:
          machine: 64bit
      - kde-live_installation:
          machine: uefi-3G
      - kde-live_installation:
          machine: 64bit-3G
      - kde-live-wayland:
          machine: 64bit_virtio-3G
      - kde_live_upgrade_leap_15.0:
          settings:
            QEMURAM: "3072"
            QEMU_VIRTIO_RNG: "0"
      - kde_live_upgrade_leap_15.2:
          machine: uefi
          settings:
            QEMURAM: "3072"
      - kde_live_upgrade_leap_15.3:
          settings:
            QEMURAM: "3072"
            QEMU_VIRTIO_RNG: "0"
    opensuse-Tumbleweed-NET-x86_64:
      - textmode:
          machine: 64bit
          priority: 40
      - kde:
          machine: Laptop_64
          priority: 40
      - kde:
          machine: USBboot_64
          priority: 40
      - kde:
          machine: 64bit
          priority: 40
      - uefi:
          machine: 64bit
          priority: 45
      - gnome:
          machine: Laptop_64
          priority: 45
      - minimalx:
          machine: 64bit
          priority: 45
      - lxde:
          machine: 64bit
          priority: 49
      - xfce:
          machine: 64bit
          priority: 49
      - RAID0_gpt
      - RAID1_gpt
      - RAID5_gpt:
          description: ''
          settings:
            DESKTOP: kde
            START_AFTER_TEST: RAID0_gpt
            WORKER_CLASS: heavyload
            YAML_SCHEDULE: schedule/yast/opensuse/raid/raid5_gpt.yaml
          testsuite: null
      - RAID10_gpt:
          description: ''
          settings:
            DESKTOP: kde
            START_AFTER_TEST: RAID1_gpt
            WORKER_CLASS: heavyload
            YAML_SCHEDULE: schedule/yast/opensuse/raid/raid10_gpt.yaml
          testsuite: null
      - containers_tw_image_on_centos_host:
          testsuite: null
          description: 'Runs image container test on Centos using podman'
          settings:
            DESKTOP: textmode
            EXTRATEST: cont
            VIDEOMODE: text
            KEEP_GRUB_TIMEOUT: '1'
            BOOT_HDD_IMAGE: '1'
            HDD_1: 'centOS-Stream-8-x86_64-20230213-minimal.qcow2'
            CONTAINERS_UNTESTED_IMAGES: '1'
            CONTAINER_IMAGE_TO_TEST: 'registry.opensuse.org/opensuse/factory/totest/containers/opensuse/tumbleweed'
            CONTAINERS_NO_SUSE_OS: "1"
            CONTAINER_RUNTIME: "podman"
            REGISTRY: '3.71.98.16:5000'
      - containers_tw_image_on_ubuntu_host:
          testsuite: null
          description: 'Runs image container test on Ubuntu using docker and podman'
          settings:
            DESKTOP: textmode
            EXTRATEST: cont
            VIDEOMODE: text
            KEEP_GRUB_TIMEOUT: '1'
            BOOT_HDD_IMAGE: '1'
            HDD_1: 'ubuntu-22.04.qcow2'
            CONTAINERS_UNTESTED_IMAGES: '1'
            CONTAINER_IMAGE_TO_TEST: 'registry.opensuse.org/opensuse/factory/totest/containers/opensuse/tumbleweed'
            CONTAINERS_NO_SUSE_OS: "1"
            CONTAINER_RUNTIME: "podman,docker"
            REGISTRY: '3.71.98.16:5000'
      - cryptlvm:
          machine: 64bit
      - install_only:
          machine: smp_64
          priority: 40
      - uefi-os:
          machine: 64bit
          priority: 45
      - upgrade_Leap_15.0_gnome:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - upgrade_Leap_15.0_kde:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - zdup-Leap-15.2-kde:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - zdup-Leap-15.2-gnome:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - zdup-Leap-15.3-kde:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - zdup-Leap-15.3-gnome:
          settings:
            QEMU_VIRTIO_RNG: "0"
      - zdup-Leap-15.4-gnome
      - zdup-Leap-15.4-kde
      - create_hdd_minimalx
      - create_hdd_tumbleweed:
          # Workaround for boo#1200753
          machine: 64bit-3G
      - zdup_tw2twnext_gnome:
          # Workaround for boo#1200753
          machine: 64bit-3G
      - create_hdd_tumbleweed_kde:
          # Workaround for boo#1200753
          machine: 64bit-3G
      - zdup_tw2twnext_kde:
          # Workaround for boo#1200753
          machine: 64bit-3G
      - otherDE_enlightenment
      - otherDE_lxqt
      - otherDE_mate
      - otherDE_awesome
      - gnome-gdm:
          machine: 64bit
      - kde_dual_windows10:
          machine: uefi_win
      - autoyast_gnome:
          machine: 64bit
      - lvm-encrypt-separate-boot:
          machine: 64bit
      - kde+selinux:
          machine: uefi
      - gnome+selinux:
          machine: uefi
      - textmode+selinux:
          machine: uefi
    opensuse-Tumbleweed-Rescue-CD-x86_64:
      - rescue:
          priority: 49
      - rescue:
          machine: uefi-usb
          priority: 49
      - mediacheck:
          machine: 64bit
    opensuse-Tumbleweed-XFCE-Live-x86_64:
      - xfce-live:
          settings:
            QEMURAM: '3072'
      - xfce-live:
          machine: uefi-usb
          priority: 49
      - mediacheck:
          machine: 64bit
    opensuse-Tumbleweed-WSL-x86_64:
      - wsl-main:
          testsuite: null
          description: |
            Basic WSL test Test scope:
                1) Prepare WSL and other features in Windows
                2) Download the image
                3) Import embedded certificate from the image
                4) Load image
                5) Define users
                6) Register SUT
                7) Exit WSL
          machine: [win10_64bit, win10_uefi, win11_uefi]
          settings:
            YAML_SCHEDULE: 'schedule/wsl/wsl_main.yaml'
            WSL_INSTALL_FROM: 'build'
            QEMU_ENABLE_SMBD: '1'
      - wsl2-main:
          testsuite: null
          machine: [win10_64bit, win10_uefi, win11_uefi]
          settings:
            YAML_SCHEDULE: 'schedule/wsl/wsl_main.yaml'
            WSL_INSTALL_FROM: 'build'
            QEMU_ENABLE_SMBD: '1'
            WSL2: '1'
            QEMUCPU: 'host,kvm=off,vmx=on,hypervisor=off,hv_time,hv_relaxed,hv_vapic,hv_spinlocks=0x1fff,hv_frequencies,hv_reenlightenment,hv_vpindex,hv-synic,hv-stimer,hv-stimer-direct'
            QEMUMACHINE: 'q35,accel=whpx'
            WORKER_CLASS: 'wsl2'
      - wsl2-install-msstore:
          testsuite: null
          machine: [win10_64bit, win10_uefi, win11_uefi]
          description: |
            Basic WSL test Test scope:
                1) Prepare WSL and other features in Windows
                2) Download the winget utility and install it
                3) Install WSL image from the MS Store via CLI
          settings:
            YAML_SCHEDULE: 'schedule/wsl/wsl_main.yaml'
            WSL2: '1'
            QEMUCPU: 'host,kvm=off,vmx=on,hypervisor=off,hv_time,hv_relaxed,hv_vapic,hv_spinlocks=0x1fff,hv_frequencies,hv_reenlightenment,hv_vpindex,hv-synic,hv-stimer,hv-stimer-direct'
            QEMUMACHINE: 'q35,accel=whpx'
            WORKER_CLASS: 'wsl2'
            WSL_VERSION: 'openSUSE Tumbleweed'
            WSL_INSTALL_FROM: 'msstore'
